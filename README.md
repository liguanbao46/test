# 文件格式转换器

一个功能强大的Windows文件格式转换工具，支持多种文件类型的自动检测和转换。

## 功能特性

- 🔍 **智能文件检测**: 自动识别上传文件的格式类型
- 🔄 **多格式支持**: 支持图片、音频、视频、文档等多种文件格式转换
- 🎨 **友好界面**: 现代化的图形用户界面，操作简单直观
- ⚡ **快速转换**: 高效的转换算法，支持批量处理
- 📊 **实时进度**: 转换进度实时显示，状态一目了然

## 支持的文件格式

### 图片格式
- **输入**: PNG, JPEG, GIF, BMP, TIFF, WEBP, ICO
- **输出**: PNG, JPEG, GIF, BMP, TIFF, WEBP, ICO

### 音频格式 (需要ffmpeg)
- **输入**: MP3, WAV, FLAC, AAC, OGG
- **输出**: MP3, WAV, FLAC, AAC, OGG

### 视频格式 (需要ffmpeg)
- **输入**: MP4, AVI, MOV, MKV, WEBM, FLV
- **输出**: MP4, AVI, MOV, MKV, WEBM, FLV

### 文档格式
- **输入**: TXT, HTML, PDF
- **输出**: TXT, HTML

## 安装要求

### Python环境
- Python 3.7 或更高版本

### 必需依赖
```bash
pip install -r requirements.txt
```

### 可选依赖
- **FFmpeg** (用于音频和视频转换)
  - 下载地址: https://ffmpeg.org/download.html
  - 安装后确保 `ffmpeg` 命令在系统PATH中

## 安装方法

### 方法一：直接运行
1. 下载项目文件
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 运行程序：
   ```bash
   python file_converter.py
   ```

### 方法二：安装为包
1. 在项目目录中运行：
   ```bash
   pip install .
   ```
2. 运行程序：
   ```bash
   file-converter
   ```

## 使用方法

### 基本步骤
1. **启动程序**: 运行 `file_converter.py` 或使用安装的命令
2. **选择文件**: 点击"选择文件"按钮，浏览并选择要转换的文件
3. **查看检测结果**: 程序会自动检测文件格式并显示文件信息
4. **选择目标格式**: 在下拉框中选择要转换到的目标格式
5. **设置输出目录**: 选择转换后文件的保存位置（默认为原文件目录）
6. **开始转换**: 点击"开始转换"按钮执行转换
7. **等待完成**: 观察进度条，转换完成后会显示成功消息

### 界面说明

#### 文件选择区域
- **选择文件按钮**: 打开文件浏览器选择要转换的文件
- **文件路径显示**: 显示当前选中文件的完整路径

#### 文件信息区域
- **检测到的格式**: 显示程序自动识别的文件类型
- **文件大小**: 显示文件的大小信息

#### 转换设置区域
- **目标格式下拉框**: 根据源文件类型自动填充可转换的格式
- **输出目录设置**: 指定转换后文件的保存位置
- **开始转换按钮**: 执行文件转换操作

#### 状态显示
- **进度条**: 显示当前转换的进度百分比
- **状态栏**: 显示程序当前状态和操作提示

## 注意事项

### 格式限制
- 音频和视频转换需要安装FFmpeg
- 某些文档格式转换功能可能需要额外配置
- 大文件转换可能需要较长时间

### 性能提示
- 建议在转换大文件时关闭其他占用资源的程序
- 转换过程中请勿关闭程序窗口
- 首次转换某种格式可能需要更长时间

### 常见问题

**Q: 为什么音频/视频转换失败？**
A: 请确保已正确安装FFmpeg并添加到系统PATH中。

**Q: 支持批量转换吗？**
A: 当前版本暂不支持批量转换，需要逐个文件转换。

**Q: 转换后的文件质量如何？**
A: 图片转换保持高质量设置，音视频转换使用标准编码参数。

**Q: 可以转换哪些文档格式？**
A: 目前主要支持纯文本和HTML文档的基础转换。

## 技术说明

### 核心技术
- **GUI框架**: Tkinter (Python标准库)
- **文件检测**: python-magic (libmagic封装)
- **图片处理**: Pillow (PIL)
- **音视频处理**: FFmpeg (外部工具)

### 文件检测原理
程序使用 `python-magic` 库来检测文件的MIME类型，这比仅依赖文件扩展名更准确可靠。检测流程：
1. 读取文件头部字节
2. 与magic数据库进行匹配
3. 返回标准MIME类型
4. 如果检测失败，回退到扩展名判断

### 转换流程
1. **预处理**: 验证输入文件和参数
2. **格式分析**: 确定源格式和目标格式的兼容性
3. **转换执行**: 调用相应的转换引擎
4. **后处理**: 验证输出文件完整性

## 许可证

本项目采用 MIT 许可证，详情请查看 LICENSE 文件。

## 更新日志

### v1.0.0 (当前版本)
- 初始发布
- 支持图片、音频、视频、文档格式转换
- 图形用户界面
- 自动文件格式检测
- 实时转换进度显示

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue到项目仓库
- 发送邮件反馈

---

**感谢使用文件格式转换器！**